(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},4153:function(e,t,a){"use strict";a("6bdb")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("f309");a("bf40");r["a"].use(n["a"]);var s=new n["a"]({}),o=a("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",[a("h4",{staticClass:"display-1"},[e._v("Welcome to Free Rides Only!")]),a("p",{staticClass:"body-1"},[e._v("We hope you're paying")]),a("v-divider"),a("br"),a("br"),a("h2",[e._v("Search for Rides")]),a("br"),a("div",{staticClass:"searchbar"},[a("input",{attrs:{type:"search",placeholder:"Type in ride information"}})]),a("br"),a("br"),a("br"),a("br"),a("v-card",[a("h2",[e._v("User Information")]),a("br"),a("span",[a("v-btn",{attrs:{height:"280",width:"220"}},[a("h3",[e._v("View My Rides")])]),a("v-btn",{attrs:{height:"280",width:"220"}},[a("h3",[e._v("Register Driver")])])],1)])],1)])},l=[],c=a("2877"),d=a("6544"),u=a.n(d),m=a("8336"),p=a("b0af"),v=a("a523"),b=a("ce7e"),f={},h=Object(c["a"])(f,i,l,!1,null,null,null),w=h.exports;u()(h,{VBtn:m["a"],VCard:p["a"],VContainer:v["a"],VDivider:b["a"]});var g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Log in")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.logIn}},[e._v("Log In")])],1)],1)],1)],1),a("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.msge)+" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)],1)},x=[],_={data:function(){return{email:"",password:"",snackbar:{show:!1,msge:""}}},methods:{logIn:function(){var e=this;this.$axios.post("/login",{email:this.email,password:this.password}).then((function(t){e.showSnackbar(t.data.msge),t.data.ok&&(e.$store.commit("logIn",t.data.details),e.$router.push({name:"home-page"}))})).catch((function(t){return e.showSnackbar(t)}))},showSnackbar:function(e){this.snackbar.msge=e,this.snackbar.show=!0}}},k=_,y=a("99d9"),V=a("62ad"),C=a("4bd4"),$=a("0fd9"),S=a("2db4"),P=a("2fa4"),O=a("8654"),M=a("71d9"),N=a("2a7f"),T=Object(c["a"])(k,g,x,!1,null,null,null),A=T.exports;u()(T,{VBtn:m["a"],VCard:p["a"],VCardActions:y["a"],VCardText:y["b"],VCol:V["a"],VContainer:v["a"],VForm:C["a"],VRow:$["a"],VSnackbar:S["a"],VSpacer:P["a"],VTextField:O["a"],VToolbar:M["a"],VToolbarTitle:N["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",[a("h4",{staticClass:"display-1"},[e._v("Sign Up")]),a("instructions",{attrs:{details:"Sign up for our nifty site."}}),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules.required,label:"First name"},model:{value:e.newMember.firstName,callback:function(t){e.$set(e.newMember,"firstName",t)},expression:"newMember.firstName"}}),a("v-text-field",{attrs:{rules:e.rules.required,label:"Last name"},model:{value:e.newMember.lastName,callback:function(t){e.$set(e.newMember,"lastName",t)},expression:"newMember.lastName"}}),a("v-text-field",{attrs:{rules:e.rules.email,"error-count":"10",type:"email",label:"Your email address"},model:{value:e.newMember.email,callback:function(t){e.$set(e.newMember,"email",t)},expression:"newMember.email"}}),a("v-text-field",{attrs:{rules:e.rules.password,"error-count":"10",type:"password",label:"Non-trivial password",required:""},model:{value:e.newMember.password,callback:function(t){e.$set(e.newMember,"password",t)},expression:"newMember.password"}}),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.handleSubmit}},[e._v("Sign Up ")])],1),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[e._v(" "+e._s(e.dialogHeader)+" ")]),a("v-card-text",[e._v(" "+e._s(e.dialogText)+" ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.hideDialog}},[e._v("Okay")])],1)],1)],1)],1)],1)])},j=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"body-1"},[a("strong",[e._v("Instructions")]),e._v(": "+e._s(e.details))])},R=[],E={props:["details"]},F=E,L=Object(c["a"])(F,I,R,!1,null,null,null),U=L.exports,q={name:"SignUpPage",components:{Instructions:U},data:function(){return{valid:!1,newMember:{firstName:"",lastName:"",email:"",password:""},accountCreated:!1,dialogHeader:"<no dialogHeader>",dialogText:"<no dialogText>",dialogVisible:!1,rules:{required:[function(e){return e.length>0||"Required"}],email:[function(e){return/\w{3,}@\w{3,}(?:.\w{3,})+$/.test(e)||"Invalid e-mail"}],password:[function(e){return/[A-Z]/.test(e)||"Need upper case letter"},function(e){return/[a-z]/.test(e)||"Need lower case letter"},function(e){return/\d/.test(e)||"Need digit"},function(e){return e.length>=8||"Minimum 8 characters"}]}}},methods:{handleSubmit:function(){var e=this;this.accountCreated=!1,this.$axios.post("/accounts",{firstName:this.newMember.firstName,lastName:this.newMember.lastName,email:this.newMember.email,password:this.newMember.password}).then((function(t){t.data.ok?(e.showDialog("Success",t.data.msge),e.accountCreated=!0):e.showDialog("Sorry",t.data.msge)})).catch((function(t){return e.showDialog("Failed",t)}))},showDialog:function(e,t){this.dialogHeader=e,this.dialogText=t,this.dialogVisible=!0},hideDialog:function(){this.dialogVisible=!1,this.accountCreated&&this.$router.push({name:"home-page"})}}},B=q,H=a("169a"),J=Object(c["a"])(B,D,j,!1,null,null,null),W=J.exports;u()(J,{VBtn:m["a"],VCard:p["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:v["a"],VDialog:H["a"],VDivider:b["a"],VForm:C["a"],VSpacer:P["a"],VTextField:O["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",[a("h4",{staticClass:"display-1"},[e._v("Reset Password")]),a("instructions",{attrs:{details:"Don't like your old password? Trade it in for a new one!"}}),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules.email,"error-count":"10",type:"email",label:"Your email address"},model:{value:e.member.email,callback:function(t){e.$set(e.member,"email",t)},expression:"member.email"}}),a("v-text-field",{attrs:{rules:e.rules.password,"error-count":"10",type:"password",label:"Old password",required:""},model:{value:e.member.oldPassword,callback:function(t){e.$set(e.member,"oldPassword",t)},expression:"member.oldPassword"}}),a("v-text-field",{attrs:{rules:e.rules.password,"error-count":"10",type:"password",label:"New password",required:""},model:{value:e.member.newPassword,callback:function(t){e.$set(e.member,"newPassword",t)},expression:"member.newPassword"}}),a("v-text-field",{attrs:{rules:e.rules.passwordConfirm,"error-count":"10",type:"password",label:"Confirm new password",required:""},model:{value:e.member.newPasswordConfirm,callback:function(t){e.$set(e.member,"newPasswordConfirm",t)},expression:"member.newPasswordConfirm"}}),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.handleSubmit}},[e._v("Reset Password ")])],1),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[e._v(" "+e._s(e.dialogHeader)+" ")]),a("v-card-text",[e._v(" "+e._s(e.dialogText)+" ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.hideDialog}},[e._v("Okay")])],1)],1)],1)],1)],1)])},Y=[],Z=(a("96cf"),a("1da1")),G={name:"ResetPasswordPage",components:{Instructions:U},data:function(){var e=this;return{valid:!1,member:{email:"",oldPassword:"",newPassword:"",newPasswordConfirm:""},passwordModified:!1,dialogHeader:"<no dialogHeader>",dialogText:"<no dialogText>",dialogVisible:!1,rules:{email:[function(e){return/\w{3,}@\w{3,}(?:.\w{3,})+$/.test(e)||"Invalid e-mail"}],password:[function(e){return/[A-Z]/.test(e)||"Need upper case letter"},function(e){return/[a-z]/.test(e)||"Need lower case letter"},function(e){return/\d/.test(e)||"Need digit"},function(e){return e.length>=8||"Minimum 8 characters"}],passwordConfirm:[function(t){return e.member.newPassword==t||"Passwords do not match"}]}}},methods:{handleSubmit:function(){var e=Object(Z["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("got here1"),this.passwordModified=!1,console.log("got here2"),console.log("got here3"),console.log("got here4"),this.$axios.patch("/accounts/".concat(this.member.email),{email:this.member.email,oldPassword:this.member.oldPassword,newPassword:this.member.newPassword}).then((function(e){console.log("got here5"),e.data.ok?(t.showDialog("Success",e.data.msge),t.passwordModified=!0):t.showDialog("Sorry",e.data.msge)})).catch((function(e){console.log("got here6"),t.showDialog("Failed",e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showDialog:function(e,t){this.dialogHeader=e,this.dialogText=t,this.dialogVisible=!0},hideDialog:function(){this.dialogVisible=!1,this.passwordModified&&this.$router.push({name:"accounts"})}}},K=G,Q=Object(c["a"])(K,z,Y,!1,null,null,null),X=Q.exports;u()(Q,{VBtn:m["a"],VCard:p["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:v["a"],VDialog:H["a"],VDivider:b["a"],VForm:C["a"],VSpacer:P["a"],VTextField:O["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",[a("h4",{staticClass:"display-1"},[e._v("About Us")]),a("p",{staticClass:"body-1"},[e._v("We are a bunch of really really cool people.")])])])},te=[],ae={},re=Object(c["a"])(ae,ee,te,!1,null,null,null),ne=re.exports;u()(re,{VContainer:v["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",[a("h4",{staticClass:"display-1"},[e._v("Accounts")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.accounts},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("tr",{class:e.itemClass(r)},[a("td",[e._v(e._s(r.email))]),a("td",[e._v(e._s(r.firstName))]),a("td",[e._v(e._s(r.lastName))]),a("td",[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteAccount(r)}}},[e._v(" mdi-delete ")]),a("v-icon",{staticClass:"ml-2",attrs:{small:""},on:{click:function(t){return e.updateAccount(r)}}},[e._v(" mdi-pencil ")])],1)])]}}])}),a("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" "),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v(" Close ")])],1)],1)])},oe=[],ie=(a("4de4"),a("d81d"),{name:"Accounts",data:function(){return{headers:[{text:"Email",value:"email"},{text:"First",value:"firstName"},{text:"Last",value:"lastName"},{text:"Action",value:"action"}],accounts:[],snackbar:{show:!1,text:""}}},mounted:function(){var e=this;this.$axios.get("/accounts").then((function(t){e.accounts=t.data.map((function(e){return{id:e.id,email:e.email,firstName:e.first_name,lastName:e.last_name}}))}))},methods:{showSnackbar:function(e){this.snackbar.text=e,this.snackbar.show=!0},itemClass:function(e){var t=this.$store.state.currentAccount;if(t&&t.id===e.id)return"currentAccount"},updateAccount:function(e){console.log("UPDATE",JSON.stringify(e,null,2)),this.showSnackbar("Sorry, update is not yet implemented.")},deleteAccount:function(e){var t=this;this.$axios.delete("/accounts/".concat(e.id)).then((function(a){a.data.ok&&(t.accounts=t.accounts.filter((function(t){return t.id!==e.id})))}))}}}),le=ie,ce=(a("4153"),a("8fea")),de=a("132d"),ue=Object(c["a"])(le,se,oe,!1,null,null,null),me=ue.exports;u()(ue,{VBtn:m["a"],VContainer:v["a"],VDataTable:ce["a"],VIcon:de["a"],VSnackbar:S["a"]}),r["a"].use(o["a"]);var pe=new o["a"]({mode:"history",base:"/",routes:[{name:"home-page",path:"/",component:w},{name:"sign-up",path:"/sign-up",component:W},{name:"sign-in",path:"/sign-in",component:A},{name:"reset-password",path:"/reset-password",component:X},{name:"about-us",path:"/about-us",component:ne},{name:"accounts",path:"/accounts",component:me}]}),ve=a("2f62");r["a"].use(ve["a"]);var be=new ve["a"].Store({state:{currentAccount:null},getters:{isLoggedIn:function(e){return null!==e.currentAccount}},mutations:{logIn:function(e,t){e.currentAccount=t},logOut:function(e){e.currentAccount=null}}}),fe=a("bc3a"),he=a.n(fe),we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("nav-bar"),a("v-content",[a("v-container",[a("router-view")],1)],1)],1)},ge=[],xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[a("router-link",{attrs:{to:{name:"home-page"}}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v(" Free Rides Only ")])],1),a("v-spacer"),e.isLoggedIn?e._e():a("v-btn",{attrs:{text:"",to:{name:"sign-in"}}},[e._v(" Sign In ")]),a("v-btn",{attrs:{text:"",to:{name:"about-us"}}},[e._v("About Us")]),e.isLoggedIn?a("v-menu",{attrs:{"offset-y":""}}):e._e()],1)},_e=[],ke=(a("b0c0"),{computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{signOut:function(){this.$store.commit("logOut"),"home-page"!=this.$router.currentRoute.name&&this.$router.push({name:"home-page"})}}}),ye=ke,Ve=a("40dc"),Ce=a("e449"),$e=Object(c["a"])(ye,xe,_e,!1,null,null,null),Se=$e.exports;u()($e,{VAppBar:Ve["a"],VBtn:m["a"],VMenu:Ce["a"],VSpacer:P["a"],VToolbarTitle:N["a"]});var Pe={name:"App",components:{NavBar:Se}},Oe=Pe,Me=a("7496"),Ne=a("a75b"),Te=Object(c["a"])(Oe,we,ge,!1,null,null,null),Ae=Te.exports;u()(Te,{VApp:Me["a"],VContainer:v["a"],VContent:Ne["a"]});var De=he.a.create({baseURL:"http://localhost:3000"});r["a"].prototype.$axios=De,new r["a"]({el:"#app",data:{currentUser:null},router:pe,store:be,vuetify:s,render:function(e){return e(Ae)}})},"6bdb":function(e,t,a){}});
//# sourceMappingURL=app.9392cebf.js.map